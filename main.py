import numpy as np
from Turbo.helpers import generator_function,de2bi
N=256
Niter=32
frames=10
gen_func=generator_function(37,21)
de2bi(gen_func)
n=gen_func.shape[0]
K=gen_func.shape[1]
M=K-1

error_vector1=[]
error_vector2=[]

EbNo_dB=np.array([1.5])
rate=(N)/(N*(n+1))
EbNo=10**(EbNo_dB/10)

yre2=[0,68,152,188,17,101,137,221,50,86,170,238,115,199,11,95,144,212,40,76,161,245,25,109,194,230,58,126,3,87,155,239,32,100,184,220,49,133,169,253,82,118,202,14,147,231,43,127,176,244,72,108,193,21,57,141,226,6,90,158,35,119,187,15,64,132,216,252,81,165,201,29,114,150,234,46,179,7,75,159,208,20,104,140,225,53,89,173,2,38,122,190,67,151,219,47,96,164,248,28,113,197,233,61,146,182,10,78,211,39,107,191,240,52,136,172,1,85,121,205,34,70,154,222,99,183,251,79,128,196,24,60,145,229,9,93,178,214,42,110,243,71,139,223,16,84,168,204,33,117,153,237,66,102,186,254,131,215,27,111,160,228,56,92,177,5,41,125,210,246,74,142,19,103,171,255,48,116,200,236,65,149,185,13,98,134,218,30,163,247,59,143,192,4,88,124,209,37,73,157,242,22,106,174,51,135,203,31,80,148,232,12,97,181,217,45,130,166,250,62,195,23,91,175,224,36,120,156,241,69,105,189,18,54,138,206,83,167,235,63,112,180,8,44,129,213,249,77,162,198,26,94,227,55,123,207];
frame_error_limit=20

interleaver=np.array([yre2])+1
"""
for EbNo_index in range(len(EbNo_dB)):
    no_bit_err = np.zeros((interleaver.shape[0],Niter)); # number of bit errrors
    ew_wts=[]
    er_wt=[]
    ew_wts1=[]
    er_wt1=[]
    SNR_dB=EbNo_dB[EbNo_index]+10*np.log10(rate)
    SNR=10**(SNR_dB/10)
    
    frame_index=1
    erCounter=np.zeros((1,interleaver.shape[0]))

    while frame_index<=frames and  np.sum(erCounter>=frame_error_limit) != (interleaver.shape[0]):
         #msg=[0,1,1,1,0,1,0,1,0,1,0,1,1,1,0,1,1,1,1,0,0,1,0,0,0,1,1,1,0,0,0,1,0,1,0,1,0,1,0,0,0,0,0,0,1,1,0,1,0,1,0,1,0,1,0,1,1,1,0,1,1,0,0,1,1,1,0,1,0,1,0,1,1,1,0,1,0,0,1,1,0,1,0,1,0,0,0,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1,1,0,1,0,1,0,1,0,1,1,0,1,1,1,0,1,1,1,1,0,0,1,0,1,0,0,0,1,1,0,0,0,1,1,0,0,1,1,0,0,0,1,1,0,1,0,1,0,1,1,0,1,1,0,0,0,0,0,0,1,0,0,1,1,0,1,1,1,1,0,0,0,0,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0,0,1,0,1,1,0,1,1,1,1,0,0,1,1,1,0,0,0,1,0,1,0,1,1,0,1,0,1,1,0,0,1,0,1,1,0,1,0,1,0,1,0,0,1,1,0,0,0,1,1,1,1,0,1,1,0,0,0,0,1,1,0]
        


        frame_index=frame_index+1

 """   
